# 條件判斷 (Condition) 與迴圈 (Loop)

## `if` 條件判斷
為了應付不同條件下能做出不同指令，`C/C++` 提供了 `if` 條件判斷，語法如下：
```cpp
if(條件_1)
{
	陳述_1;
}
```

條件句需要使用條件運算子，條件只有兩種結果，True(1) 和 False(0)。當 `if` 條件符合時，會執行對應的陳述句，否則會無視陳述句，執行之後的程式碼。陳述句為一系列指令，可有 $1$ 到多句，用 `{}` 包起來，只有 $1$ 句時可省略，但為維護及可讀性，建議不要省略，

```cpp
scanf("%d", &i);
if(i % 2 == 0) // 如果 i 為偶數
{
	printf("%d\n"); // 輸出 i
}
```

如果有兩種(含)以上的條件，可使用複合陳述句：
```cpp
if(條件_1)
{
	陳述_1;
}
else if(條件_2)
{
	陳述_2;
}
...
else if(條件_(n-1))
{
	陳述_(n-1);
}
else
{
	陳述n;
}
```

當 `if` 條件不符合時，會執行 `else if`，如果 `else if` 再不符合，會再執行下一個 `else if`，直到遇到符合的條件句，就會執行對應的陳述句，如果執行到 `else` 則會無條件的執行對應的陳述句。在複合陳述句中，可以有 $0$ 到多個 `else if`，以及 $0$ 或 $1$ 個 `else`。

`if` 條件判斷支持巢狀結構，意思為可以在 `if` 條件判斷裡面放 `if` 條件判斷。
```cpp
if(條件_1)
{
	if(條件_a)
	{
		陳述_a;
	}
}
```

`if` 條件判斷只能執行單次，如要重複執行，需使用迴圈，迴圈有兩種：`while` 和 `for`。

## `while` 迴圈
`while` 迴圈用在終止條件未知的情況下，語法如下。
```cpp
while(條件部)
{
	陳敘;
}
```

當條件部的條件符合，才會執行陳敘。換句話說，只有當條件部的條件不符合，這個迴圈才會終止。

條件部可搭配遞增/遞減運算子，但要注意前綴和後綴效果不同。

=== "前綴版本"

	```cpp
	int n = 5;
	while(--n)
	{
		cout << n << '\n';
	}
	/*
	輸出：
	4
	3
	2
	1
	*/
	```

=== "後綴版本"

	```cpp
	int n = 5;
	while(n--)
	{
		cout << n << '\n';
	}
	/*
	輸出：
	4
	3
	2
	1
	0
	*/
	```

`while` 迴圈執行順序：`條件部`(符合)->`陳敘`->`條件部`(符合)->`陳敘`->...->`條件部`(符合)->`陳敘`->`條件部`(不符合)->跳出

```cpp
int i = 10, ans = 0;
while(i < 100)
{
	ans += 1;
	i += 1;
}
```

### `do-while` 迴圈
`do-while` 迴圈和 `while` 迴圈相似，差別在於 `do-while` 會先執行陳敘，再判斷是否要離開迴圈。

```cpp
do
{
	陳敘;
}while(條件部); // <- 這裡有分號，要注意
```


## `for` 迴圈
`for` 迴圈用在終止條件已知的情況下，會設立一個
控制變數 (Control Variable) 來控制迴圈執行的次數，語法如下：

```cpp
for(初始部;條件部;更新部)
{
	陳敘;
}
```

- 初始部、條件部、更新部這三部分皆可省略。

- 初始部：用來宣告和初始化控制變數(`C99` 前不能宣告)，變數宣告只能是同種形態，如果有兩種(含)以上的形態要宣告，其中一種要宣告外部。

- 條件部：判斷是否要繼續迴圈，同 `while` 迴圈的條件部。

- 更新部：
更新控制變數，更新部的值如果是要 `+1` 或 `-1`，通常會使用遞增運算子。
	- 前綴後綴運算子，在更新部效果相同。在追求效率的程式競賽，會使用前綴遞增/遞減運算子，因為前綴遞增/遞減運算子，只會改變數的值，而後綴運算子，會先複製一個變數用於回傳，再改變數的值，效率會低於前綴運算子。

`for` 迴圈執行順序：`初始部`->`條件部`(符合)->`陳敘`->`更新部`->`條件部`(符合條件)->`陳敘`->`更新部`->...`條件部`(符合)->`陳敘`->`更新部`->`條件部`(不符合)->跳出。

```cpp
int ans = 0;
for(int i = 0; i < 100; ++i)
{
	ans += 1;
}
```

雖然 `while` 和 `for`，都有比較合適的情況，但兩種寫法可以轉換。

`while` 和 `for` 也支持巢狀結構，並且可以和 `if` 搭配。

```cpp
// 0~100 中的奇數和
int sum = 0;
for(int i = 0; i < 100; i+=1)
{
	if(i % 2 != 0)
	{
		sum += i;
	}
}
```

## `break` 和 `continue`
- `break`：跳出迴圈。
- `continue`：直接繼續下一次迴圈執行，跳過這次迴圈後續的程式碼。

=== "break"

	```cpp
	for(int i = 0; i < 5; ++i)
	{
		if(i == 3)
		{
			break;
		}
		cout << i << '\n';
	}
	/*
	輸出：
	1
	2
	*/
	```

=== "continue"

	```cpp
	for(int i = 0; i < 5; ++i)
	{
		if(i == 3)
		{
			continue;
		}
		cout << i << '\n';
	}
	/*
	輸出：
	1
	2
	4
	5
	*/
	```

## 常見的輸入條件
比賽中會有一些輸入條件，常見有 EOF 版、$T$ 行版、X 尾版，以下一一介紹。

### $T$ 行版
這種題目格式如下：

```txt
第一行給一個數字 T，代表有 T 筆測資...
```

用 `while` 和 `for` 迴圈可以這樣寫：

=== "while"

	```cpp
	int T;
	cin >> T;
	while(T--)
	{
		...
	}
	```

=== "for"

	```cpp
	int T;
	cin >> T;
	for(int i = 0; i < T; ++i)
	{
		...
	}
	```

### EOF 版
這種題目通常沒有明確的終止條件，或是直接告訴你「以 EOF 結尾」。

檔案結尾 (End of File, EOF)，是指作業系統無法從資料來源讀取更多資料的情形，也就是一個程式讀資料讀到檔尾，程式遇到檔尾會回傳值，下列列出常用輸入函式(函式請參考[函式與遞迴章節](./functionandrecursive.md))：

#### `scanf`
當讀到檔尾時，`scanf` 會回傳 `-1`。判斷 `scanf` 是否輸入到檔尾的方法如下：

```cpp
int x;
while(scanf("%d", &x) != -1)
```

`EOF` 是 `C/C++` 語言的一個常數，為 `-1`，可以用 `EOF` 代替 `-1`，增加可讀性。

```cpp
int x;
while(scanf("%d", &x) != EOF)
```

#### `cin`
`cin` 有一個函式為 `eof`，可以判斷是否還有資料輸入。如下：

```cpp
char ch;
while(cin.eof())
{
	cin >> ch;
	cout << ch;
}
```

當讀到檔尾時，`cin` 會回傳空物件 。空物件在 `C++` 轉換成 `bool` 值會是 `false`，於是也可以寫成：

```cpp
char ch;
while((bool)cin>>ch)
{
	cout << ch;
}
```

在條件句裡面，所有回傳值都會變成 `bool` 值，不用特別轉換

```cpp
char ch;
while(cin>>ch)
{
	cout << ch;
}
```

EOF 輸入通常會用 `while` 迴圈，也可以用 `for` 迴圈來寫：

```cpp
char ch;
for(;cin>>ch;)
{
	cout << ch;
}
```

### `X` 尾版

```txt
... 最後輸入 X 結束。
```

X 可以是任意型態的任意值，例如數字的 `-1`，字元的 `e`。

這種輸入和 EOF 寫法相似，先將判斷 `EOF` 部分移除，只留下輸入(也可以保留，不影響結果)，增加一個條件：「輸入到 `X` 就離開迴圈」，這裡要使用 `break`：

=== "C++"

	```cpp
	int x;
	while(cin >> x)
	{
		if(x == -1)
		{
			break;
		}
	}
	```

=== "C"

	```cpp
	int x;
	while(scanf("%d", &x))
	{
		if(x == -1)
		{
			break;
		}
	}
	```

在 `X` 尾版中，保證輸入不會出錯，只在意輸入的資料是不是終止的條件，`C++` 擁有的逗號運算子就可以在這個時候使用：


```cpp
int x;
while(scanf("%d", &x), x != -1)
{
}
```

```cpp
int x;
while(cin >> x, x != -1)
{
}
```


除了上敘提到的輸入條件，還會有其他比較類型的條件，不過只要熟悉迴圈、`break`、`continue` 用法，再練習題目，相信	這些輸入條件不會太難。